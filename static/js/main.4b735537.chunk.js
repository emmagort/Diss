(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(4),s=n.n(l);n(17);function c(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Welcome to my app!"))}var i=n(1);n(8),n(18),n(5);var r=e=>{let{questions:t}=e;const[n,l]=Object(o.useState)(!1),[s,c]=Object(o.useState)(0),r=t.reduce((e,t)=>e+t.answers.length,0),u=Object(i.o)(),[d,m]=Object(o.useState)(!1);function g(){const e=t.reduce((e,t)=>e+t.score,0);c(e)}return Object(o.useEffect)(()=>{l(!0),g(),"true"===localStorage.getItem("showResults")&&m(!0)},[]),Object(o.useEffect)(()=>{g()},[t]),a.a.createElement("div",null,n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Results"),a.a.createElement("p",{hidden:!d},"Your overall grade: ",s,"/",r),a.a.createElement("button",{hidden:d,onClick:function(){m(!0),localStorage.setItem("showResults","true"),window.location.reload()}},"Show Results"),a.a.createElement("div",{hidden:!d},a.a.createElement("button",{onClick:function(){const e=t.map(e=>({...e,graded:!1,showingSolution:!1,edited:!1,render:"",studentAnswer:"",changes:[],score:0}));localStorage.setItem("showResults","false"),localStorage.setItem("questions",JSON.stringify(e)),u("/student",{state:{questions:e}})}},"Retake Quiz"),a.a.createElement("button",{onClick:function(){u("/student",{state:{questions:t}})}},"Review"))))};function u(){const e=Object(i.m)(),t=Object(i.o)(),{answer:n}=e.state,[l,s]=Object(o.useState)("#FDDF7E"),[c,u]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[d,m]=Object(o.useState)([]),[g,p]=Object(o.useState)(0),[w,h]=Object(o.useState)([]),[E,f]=Object(o.useState)(!1);Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(c))},[c]),Object(o.useEffect)(()=>{localStorage.setItem("changes",JSON.stringify(d))},[d]),Object(o.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("changes"))||[];m(e)},[]),Object(o.useEffect)(()=>{const e=e=>{e.preventDefault(),e.returnValue="Your boxes may appear in the wrong place if you reload this page."};return window.addEventListener("beforeunload",e),()=>{S(),window.removeEventListener("beforeunload",e)}},[]);const y=c[g];function S(){const e=document.getElementById("questionContent");null!==e&&(e.style.position="relative");const t=[...c];if(!0===y.graded)return;const n=window.getSelection();if(""===n.toString().trim())return t;{const t=n.toString();if(n.rangeCount>0){const o=n.getRangeAt(0),a=o.getBoundingClientRect(),s=document.createRange();s.setStart(o.startContainer,o.startOffset),s.setEnd(o.startContainer,o.startOffset+1);const i=s.getBoundingClientRect(),r=document.createElement("div");r.className="box",r.style.position="absolute";const d=e.getBoundingClientRect(),m=i.left-d.left,p=a.top-d.top;r.style.left="".concat(m-5,"px"),r.style.top="".concat(p,"px");const w=a.right-i.left;w===a.width?r.style.width="".concat(w+15,"px"):r.style.width="".concat(w+5,"px"),r.style.height="".concat(a.height,"px"),r.style.border="2px solid ".concat(l),r.style.pointerEvents="none",document.getElementById("questionContent").appendChild(r);const h={type:"box",color:l,content:t};u(e=>{const t=[...e];return t[g]={...y,changes:y.changes?[...y.changes,h]:[h]},c[g].edited=!0,c[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t})}}}function b(){if(!0===y.graded)return;const e=window.getSelection();if(""!==e.toString().trim()){if(!e.rangeCount)return;const t=e.toString();let n=e.getRangeAt(0),o=(n.startContainer,n.startOffset,n.endContainer,n.endOffset,document.createElement("mark"));o.style.backgroundColor=l;const a=o.style.backgroundColor;o.appendChild(n.extractContents()),n.insertNode(o);const s={type:"highlight",color:a,content:t};u(e=>{const t=[...e];return t[g]={...y,changes:y.changes?[...y.changes,s]:[s]},c[g].edited=!0,c[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}function v(e){if(!0===y.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","word"),t.modify("extend","forward","word"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(l);const o=l;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const a={type:"clickWord",color:o,content:e};u(e=>{const t=[...e];return t[g]={...y,changes:y.changes?[...y.changes,a]:[a]},c[g].edited=!0,c[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}function C(e){if(!0===y.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","lineboundary"),t.modify("extend","forward","lineboundary"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(l);const o=l;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const a={type:"clickLine",color:o,content:e};u(e=>{const t=[...e];return t[g]={...y,changes:y.changes?[...y.changes,a]:[a]},c[g].render=document.getElementById("questionContent").innerHTML,c[g].edited=!0,t}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}return a.a.createElement("div",{className:"game-container"},0===c.length?a.a.createElement("p",null,"No questions have been created yet."):a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h2",{className:"question-title",style:{position:"sticky, top: 0"}},y.title),a.a.createElement("div",{className:"question-container"},y.edited?a.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===y.style?b:"box"===y.style?S:"clickword"===y.style?v:C,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:y.render}}):a.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===y.style?b:"box"===y.style?S:"clickword"===y.style?v:C,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:y.content}}))),a.a.createElement("p",null,"Score: ",y.score,"/",y.answers.length),a.a.createElement("div",{className:"button-container",style:{alignItems:"left"}}),a.a.createElement("div",{className:"interaction-controls"},a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=c[g],t=(e.answers||[]).map(e=>e.replace(/[\s.,!?]/g,""));console.log(t);const n=e.changes;console.log(n);let o=0;n.forEach(e=>{console.log(e.content.replace(/[\s.,!?]/g,"")),t.includes(e.content.replace(/[\s.,!?]/g,""))?o+=1:o-=.5}),e.score=o,e.graded=!0,console.log(o),e.studentAnswer=document.getElementById("questionContent").innerHTML,u(e=>[...e])},disabled:y.graded,hidden:!y.edited||y.graded},"Check Answer"),a.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=c[g],t=(e.studentAnswer,document.getElementById("questionContent"));!0===e.showingSolution?function(e,t){t.innerHTML=e.studentAnswer,e.showingSolution=!1}(e,t):function(e,t){t.innerHTML=e.solution,e.showingSolution=!0}(e,t)},hidden:!y.graded},"Question/Solution")),a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{onClick:function(){document.getElementById("questionContent").innerHTML=c[g].content,c[g].render="",c[g].changes=[],c[g].edited=!1,u(e=>[...e]),localStorage.removeItem("boxes-".concat(g))},hidden:y.graded},"Reset All")),a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{onClick:function(){g>0&&p(e=>e-1)},disabled:0===g},"Previous Question"),a.a.createElement("button",{onClick:function(){console.log("Hello world!"),g!==c.length-1&&p(e=>e+1)},disabled:g===c.length-1},"Next Question")),a.a.createElement("label",{className:"color-selection"},["#CE97FB","#F6A5EB","#FAA99D","#FDDF7E","#9BFBE1","#67EBFA"].map((e,t)=>a.a.createElement("label",{key:t},a.a.createElement("input",{type:"radio",value:e,checked:l===e,onChange:e=>s(e.target.value)}),a.a.createElement("span",{style:{backgroundColor:e,display:"inline-block",width:"20px",height:"20px"},className:l===e?"selected":""})))),c.every(e=>e.changes&&e.changes.length>=1)&&a.a.createElement("button",{className:"submit-button",onClick:function(){if(t("/results",{state:{questions:c}}),"/results"===e.pathname)return a.a.createElement(r,{questions:e.state.questions})},disabled:c.some(e=>!e.graded)},"Submit"))))}function d(){var e;const[t,n]=Object(o.useState)(localStorage.getItem("title")||""),[l,s]=Object(o.useState)(localStorage.getItem("content")||""),[c,r]=Object(o.useState)(localStorage.getItem("solution")||""),[u,d]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[m,g]=Object(o.useState)((null===(e=localStorage.getItem("answers"))||void 0===e?void 0:e.split(","))||[""]),[p,w]=Object(o.useState)(""),[h,E]=Object(o.useState)({style:"",title:"",content:"",answers:[""],solution:"",score:"",graded:!1,showingSolution:!1,changes:[],render:"",studentAnswer:"",edited:!1,points:""}),[f,y]=Object(o.useState)(null),[S,b]=Object(o.useState)(null),[v,C]=Object(o.useState)("questions.txt"),O=e=>{const t=u.map(e=>{const{style:t,title:n,content:o,answers:a,solution:l}=e;return{style:t,title:n,content:o,answers:a,solution:l}}),n=JSON.stringify(t),o=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=e,l.click(),URL.revokeObjectURL(a),l.remove()};function k(e){let t=e.target.value;"answers"===e.target.name&&(t=t.split(",")),E({...h,[e.target.name]:t})}Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(u))},[u]);const I=Object(i.o)();return Object(o.useEffect)(()=>{localStorage.setItem("title",t),localStorage.setItem("content",l),localStorage.setItem("answers",m),localStorage.setItem("solution",c)},[t,l,m]),a.a.createElement("div",{style:{paddingLeft:"20px"}},a.a.createElement("h1",null,"Questions"),u.map((e,t)=>a.a.createElement("div",{key:t},a.a.createElement("h2",{onClick:()=>(e=>{b(S===e?null:e)})(t)},e.title),S===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap"}},e.content),a.a.createElement("p",null,"The answers are: ",e.answers.join(", ")),a.a.createElement("p",null,"The style is: ",e.style),a.a.createElement("p",null,"The solution is: ",e.solution),a.a.createElement("button",{onClick:()=>(function(e){d(u.filter((t,n)=>n!==e))})(t)},"Delete Question"),a.a.createElement("button",{onClick:()=>(function(e){E(u[e]),d(u.filter((t,n)=>n!==e)),y(e)})(t)},"Edit Question")))),a.a.createElement("button",{onClick:function(e){e.preventDefault(),0!==u.length?I("/student",{state:{title:t,content:l,answers:m,solution:c}}):alert("Please create at least one question before submitting.")}},"Preview"),a.a.createElement("div",null,a.a.createElement("select",{name:"style",value:h.style,onChange:k},a.a.createElement("option",{value:""},"Select style"),a.a.createElement("option",{value:"box"},"Box"),a.a.createElement("option",{value:"highlight"},"Highlight"),a.a.createElement("option",{value:"clickword"},"Click Word"),a.a.createElement("option",{value:"clickline"},"Click Line")),a.a.createElement("input",{name:"title",value:h.title,onChange:k,placeholder:"Question"}),a.a.createElement("textarea",{name:"content",value:h.content,onChange:k,style:{whiteSpace:"pre-wrap"},placeholder:"Content"}),h.answers.map((e,t)=>a.a.createElement("div",{key:t,style:{display:"flex",alignItems:"center"}},!h.content.includes(e)&&a.a.createElement("span",{style:{color:"red",marginRight:"5px"},title:"This answer is not contained in the question content."},"\u2757"),a.a.createElement("textarea",{style:{whiteSpace:"pre-wrap"},key:t,name:"answers",value:e,onChange:e=>((e,t)=>{const n=[...h.answers];n[t]=e.target.value,E({...h,answers:n})})(e,t),placeholder:"New Answer"}))),a.a.createElement("button",{onClick:()=>{E({...h,answers:[...h.answers,""]})}},"Add another answer"),a.a.createElement("textarea",{name:"solution",value:h.solution,onChange:k,style:{whiteSpace:"pre-wrap"},placeholder:"Feedback"}),a.a.createElement("button",{onClick:function(e){const t=h.answers.filter(e=>""!==e.trim());if(!h.style||!h.title||!h.content||0===t.length||!h.solution)return void alert("Please fill in all the fields before adding a question.");let n=[...u];null!==f?(n.splice(f,0,{...h,answers:t}),d(n),E({style:"",title:"",content:"",answers:[],solution:""}),y(null)):d([...u,{...h,answers:t}]),g([]),E({style:"",title:"",content:"",answers:[],solution:""})}},null!==f?"Update Question":"Add Question"),a.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete all questions?")&&d([])}},"Delete All Questions")),a.a.createElement("div",null,a.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=new FileReader;n.onload=(e=>{const t=JSON.parse(e.target.result),n=[...JSON.parse(localStorage.getItem("questions"))||[],...t],o=n.filter(e=>!e.style||!e.title||!e.content||0===e.answers.length||!e.solution);if(console.log(o.length),o.length>0)return console.warn("Warning: Some questions in the imported file are missing fields."),void alert("Please make sure all the questions in your file have all fields filled in.");d(n)}),n.readAsText(t)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:()=>{O(v)}},"Save"),a.a.createElement("button",{onClick:()=>{const e=prompt("Enter new filename:");e&&(C(e),O(e))}},"Save As")))}var m=n(3);function g(){const e=JSON.parse(localStorage.getItem("questions"))||[];return a.a.createElement(m.a,{basename:"/"},a.a.createElement(i.c,null,a.a.createElement(i.a,{index:!0,element:a.a.createElement(d,null)}),a.a.createElement(i.a,{path:"/home",element:a.a.createElement(c,null)}),a.a.createElement(i.a,{path:"/student",element:a.a.createElement(u,null)}),a.a.createElement(i.a,{path:"/teacher",element:a.a.createElement(d,null)}),a.a.createElement(i.a,{path:"/results",element:a.a.createElement(r,{questions:e})})))}var p=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then(t=>{let{getCLS:n,getFID:o,getFCP:a,getLCP:l,getTTFB:s}=t;n(e),o(e),a(e),l(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null))),p()},5:function(e,t,n){},9:function(e,t,n){e.exports=n(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.4b735537.chunk.js.map