(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(4),c=n.n(l),s=(n(18),n(3)),r=n(1);function i(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Welcome to my app!"))}n(8),n(9),n(5);var u=e=>{let{questions:t}=e;const n=t.reduce((e,t)=>e+t.score,0),o=t.reduce((e,t)=>e+t.answers.length,0),l=Object(r.o)();return a.a.createElement("div",null,a.a.createElement("h1",null,"Results"),a.a.createElement("p",null,"Your overall grade: ",n,"/",o),a.a.createElement("button",{onClick:function(){const e=t.map(e=>({...e,graded:!1,showingSolution:!1,edited:!1,render:"",studentAnswer:"",changes:[],score:0}));l("/student",{state:{questions:e}})}},"Retake Quiz"),a.a.createElement("button",{onClick:function(){l("/student",{state:{questions:t}})}},"Review"))};function d(){const e=Object(r.m)(),t=Object(r.o)(),{answer:n}=e.state,[l,c]=Object(o.useState)("#FDDF7E"),[s,i]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[d,m]=Object(o.useState)([]),[g,h]=Object(o.useState)(0);Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(s))},[s]),Object(o.useEffect)(()=>{localStorage.setItem("changes",JSON.stringify(d))},[d]),Object(o.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("changes"))||[];m(e)},[]);const p=s[g];function E(){if(!0===p.graded)return;const e=window.getSelection();if(""!==e.toString().trim()){const t=e.toString();if(e.rangeCount>0){const n=e.getRangeAt(0),o=n.getBoundingClientRect(),a=document.createRange();a.setStart(n.startContainer,n.startOffset),a.setEnd(n.startContainer,n.startOffset+1);const c=a.getBoundingClientRect(),r=document.createElement("div");r.className="box",r.style.position="absolute";const u=document.getElementById("questionContent");u.style.position="relative";const d=u.getBoundingClientRect(),m=c.left-d.left,h=o.top-d.top;r.style.left="".concat(m-5,"px"),r.style.top="".concat(h,"px");const E=o.right-c.left;E===o.width?r.style.width="".concat(E+15,"px"):r.style.width="".concat(E+5,"px"),r.style.height="".concat(o.height,"px"),r.style.border="2px solid ".concat(l),r.style.pointerEvents="none",document.getElementById("questionContent").appendChild(r);const f={type:"box",color:l,content:t};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,f]:[f]},s[g].edited=!0,s[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t})}}}function f(){if(!0===p.graded)return;const e=window.getSelection();if(""!==e.toString().trim()){if(!e.rangeCount)return;const t=e.toString();let n=e.getRangeAt(0),o=(n.startContainer,n.startOffset,n.endContainer,n.endOffset,document.createElement("mark"));o.style.backgroundColor=l;const a=o.style.backgroundColor;o.appendChild(n.extractContents()),n.insertNode(o);const c={type:"highlight",color:a,content:t};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,c]:[c]},s[g].edited=!0,s[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}function w(e){if(!0===p.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","word"),t.modify("extend","forward","word"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(l);const o=l;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const a={type:"clickWord",color:o,content:e};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,a]:[a]},s[g].edited=!0,s[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t})}}function y(e){if(!0===p.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","lineboundary"),t.modify("extend","forward","lineboundary"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(l);const o=l;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const a={type:"clickLine",color:o,content:e};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,a]:[a]},s[g].render=document.getElementById("questionContent").innerHTML,s[g].edited=!0,t})}}return a.a.createElement("div",{className:"game-container"},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h2",{className:"question-title"},p.title),p.edited?a.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===p.style?f:"box"===p.style?E:"clickword"===p.style?w:y,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:p.render}}):a.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===p.style?f:"box"===p.style?E:"clickword"===p.style?w:y,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:p.content}})),a.a.createElement("p",null,"Score: ",p.score,"/",p.answers.length),a.a.createElement("div",{className:"button-container",style:{alignItems:"left"}}),a.a.createElement("div",{className:"interaction-controls"},a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=s[g],t=(e.answers||[]).map(e=>e.replace(/[\s.,!?]/g,""));console.log(t);const n=e.changes;console.log(n);let o=0;n.forEach(e=>{console.log(e.content.replace(/[\s.,!?]/g,"")),t.includes(e.content.replace(/[\s.,!?]/g,""))?o+=1:o-=.5}),e.score=o,e.graded=!0,console.log(o),e.studentAnswer=document.getElementById("questionContent").innerHTML,i(e=>[...e])},disabled:p.graded,hidden:!p.edited||p.graded},"Check Answer"),a.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=s[g],t=(e.studentAnswer,document.getElementById("questionContent"));!0===e.showingSolution?function(e,t){t.innerHTML=e.studentAnswer,e.showingSolution=!1}(e,t):function(e,t){t.innerHTML=e.solution,e.showingSolution=!0}(e,t)},hidden:!p.graded},"Question/Solution")),a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{onClick:function(){document.getElementById("questionContent").innerHTML=s[g].content,s[g].render="",s[g].changes=[],s[g].edited=!1},hidden:p.graded},"Reset All")),a.a.createElement("div",{style:{marginTop:"auto"}},a.a.createElement("button",{onClick:function(){g>0&&h(e=>e-1)},disabled:0===g},"Previous Question"),a.a.createElement("button",{onClick:function(){console.log("Hello world!"),g!==s.length-1&&h(e=>e+1)},disabled:g===s.length-1},"Next Question")),a.a.createElement("label",{className:"color-selection"},["#CE97FB","#F6A5EB","#FAA99D","#FDDF7E","#9BFBE1","#67EBFA"].map((e,t)=>a.a.createElement("label",{key:t},a.a.createElement("input",{type:"radio",value:e,checked:l===e,onChange:e=>c(e.target.value)}),a.a.createElement("span",{style:{backgroundColor:e,display:"inline-block",width:"20px",height:"20px"},className:l===e?"selected":""})))),s.every(e=>e.changes&&e.changes.length>=1)&&a.a.createElement("button",{onClick:function(){if(t("/results",{state:{questions:s}}),"/results"===e.pathname)return a.a.createElement(u,{questions:e.state.questions})},className:"submit-button"},"Submit"))))}function m(){var e;const[t,n]=Object(o.useState)(localStorage.getItem("title")||""),[l,c]=Object(o.useState)(localStorage.getItem("content")||""),[s,i]=Object(o.useState)(localStorage.getItem("solution")||""),[u,d]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[m,g]=Object(o.useState)((null===(e=localStorage.getItem("answers"))||void 0===e?void 0:e.split(","))||[""]),[h,p]=Object(o.useState)(""),[E,f]=Object(o.useState)({style:"",title:"",content:"",answers:[],solution:"",score:"",graded:!1,showingSolution:!1,changes:[],render:"",studentAnswer:"",edited:!1,points:""}),[w,y]=Object(o.useState)(null),[S,b]=Object(o.useState)(null),[C,v]=Object(o.useState)("questions.txt"),k=e=>{const t=u.map(e=>{const{style:t,title:n,content:o,answers:a,solution:l}=e;return{style:t,title:n,content:o,answers:a,solution:l}}),n=JSON.stringify(t),o=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=e,l.click(),URL.revokeObjectURL(a),l.remove()};function O(e){let t=e.target.value;"answers"===e.target.name&&(t=t.split(",")),f({...E,[e.target.name]:t})}Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(u))},[u]);const q=Object(r.o)();return Object(o.useEffect)(()=>{localStorage.setItem("title",t),localStorage.setItem("content",l),localStorage.setItem("answers",m),localStorage.setItem("solution",s)},[t,l,m]),a.a.createElement("div",{style:{paddingLeft:"20px"}},a.a.createElement("h1",null,"Questions"),u.map((e,t)=>a.a.createElement("div",{key:t},a.a.createElement("h2",{onClick:()=>(e=>{b(S===e?null:e)})(t)},e.title),S===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap"}},e.content),a.a.createElement("p",null,"The answers are: ",e.answers.join(", ")),a.a.createElement("p",null,"The style is: ",e.style),a.a.createElement("p",null,"The solution is: ",e.solution),a.a.createElement("button",{onClick:()=>(function(e){d(u.filter((t,n)=>n!==e))})(t)},"Delete Question"),a.a.createElement("button",{onClick:()=>(function(e){f(u[e]),d(u.filter((t,n)=>n!==e)),y(e)})(t)},"Edit Question")))),a.a.createElement("button",{onClick:function(e){e.preventDefault(),0!==u.length?q("/student",{state:{title:t,content:l,answers:m,solution:s}}):alert("Please create at least one question before submitting.")}},"Preview"),a.a.createElement("div",null,a.a.createElement("select",{name:"style",value:E.style,onChange:O},a.a.createElement("option",{value:""},"Select style"),a.a.createElement("option",{value:"box"},"Box"),a.a.createElement("option",{value:"highlight"},"Highlight"),a.a.createElement("option",{value:"clickword"},"Click Word"),a.a.createElement("option",{value:"clickline"},"Click Line")),a.a.createElement("input",{name:"title",value:E.title,onChange:O,placeholder:"Title"}),a.a.createElement("textarea",{name:"content",value:E.content,onChange:O,style:{whiteSpace:"pre-wrap"},placeholder:"Content"}),E.answers.map((e,t)=>a.a.createElement("div",{key:t,style:{display:"flex",alignItems:"center"}},a.a.createElement("textarea",{style:{whiteSpace:"pre-wrap"},key:t,name:"answers",value:e,onChange:e=>((e,t)=>{const n=[...E.answers];n[t]=e.target.value,f({...E,answers:n})})(e,t),placeholder:"New Answer"}),!E.content.includes(e)&&a.a.createElement("span",{style:{color:"red"},title:"This answer is not contained in the question content."},"\u2757"))),a.a.createElement("button",{onClick:()=>{f({...E,answers:[...E.answers,""]})}},"Add another answer"),a.a.createElement("textarea",{name:"solution",value:E.solution,onChange:O,style:{whiteSpace:"pre-wrap"},placeholder:"Solution"}),a.a.createElement("button",{onClick:function(e){const t=E.answers.filter(e=>""!==e.trim());if(!E.style||!E.title||!E.content||0===t.length||!E.solution)return void alert("Please fill in all the fields before adding a question.");let n=[...u];null!==w?(n.splice(w,0,{...E,answers:t}),d(n),f({style:"",title:"",content:"",answers:[],solution:""}),y(null)):d([...u,{...E,answers:t}]),g([]),f({style:"",title:"",content:"",answers:[],solution:""})}},null!==w?"Update Question":"Add Question"),a.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete all questions?")&&d([])}},"Delete All Questions")),a.a.createElement("div",null,a.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=new FileReader;n.onload=(e=>{const t=JSON.parse(e.target.result),n=[...JSON.parse(localStorage.getItem("questions"))||[],...t],o=n.filter(e=>!e.style||!e.title||!e.content||0===e.answers.length||!e.solution);if(console.log(o.length),o.length>0)return console.warn("Warning: Some questions in the imported file are missing fields."),void alert("Please make sure all the questions in your file have all fields filled in.");d(n)}),n.readAsText(t)}})),a.a.createElement("div",null,a.a.createElement("button",{onClick:()=>{k(C)}},"Save"),a.a.createElement("button",{onClick:()=>{const e=prompt("Enter new filename:");e&&(v(e),k(e))}},"Save As")))}function g(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Welcome to my app!"),a.a.createElement("div",null,a.a.createElement("h2",null,"Click on one of the links below to go to the page you want to go to"),a.a.createElement("a",{href:"http://localhost:3000/student"},"Student"),a.a.createElement("br",null),a.a.createElement("a",{href:"http://localhost:3000/teacher"},"Teacher"),a.a.createElement("br",null),a.a.createElement("a",{href:"http://localhost:3000/home"},"Home"),a.a.createElement("br",null),a.a.createElement("a",{href:"http://localhost:3000/results"},"Results")))}function h(){const e=JSON.parse(localStorage.getItem("questions"))||[];return a.a.createElement(s.a,{basename:"/Diss"},a.a.createElement(r.c,null,a.a.createElement(r.a,{index:!0,element:a.a.createElement(g,null)}),a.a.createElement(r.a,{path:"/home",element:a.a.createElement(i,null)}),a.a.createElement(r.a,{path:"/student",element:a.a.createElement(d,null)}),a.a.createElement(r.a,{path:"/teacher",element:a.a.createElement(m,null)}),a.a.createElement(r.a,{path:"/results",element:a.a.createElement(u,{questions:e})})))}c.a.createRoot(document.getElementById("root")).render(a.a.createElement(h,null));var p=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then(t=>{let{getCLS:n,getFID:o,getFCP:a,getLCP:l,getTTFB:c}=t;n(e),o(e),a(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null))),p()},5:function(e,t,n){},9:function(e,t,n){}},[[10,1,2]]]);
//# sourceMappingURL=main.c7105f08.chunk.js.map