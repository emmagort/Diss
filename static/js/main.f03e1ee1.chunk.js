(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),l=n.n(o),a=n(3),c=n.n(a),r=(n(16),n(4)),s=n(1);function i(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to my app!"))}n(17),n(18),n(7);var u=e=>{let{questions:t}=e;const n=t.reduce((e,t)=>e+t.score,0),o=t.reduce((e,t)=>e+t.answers.length,0);return l.a.createElement("div",null,l.a.createElement("h1",null,"Results"),l.a.createElement("p",null,"Your overall grade: ",n,"/",o))};function d(){const e=Object(s.m)(),t=Object(s.o)(),{answer:n}=e.state,[a,c]=Object(o.useState)("#FDDF7E"),[r,i]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[d,m]=Object(o.useState)([]),[g,h]=Object(o.useState)(0);Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(r))},[r]),Object(o.useEffect)(()=>{localStorage.setItem("changes",JSON.stringify(d))},[d]),Object(o.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("changes"))||[];m(e)},[]);const p=r[g];function E(){if(!0===p.graded)return;const e=window.getSelection();if(""!==e.toString().trim()){const t=e.toString();if(e.rangeCount>0){const n=e.getRangeAt(0),o=n.getBoundingClientRect(),l=document.createRange();l.setStart(n.startContainer,n.startOffset),l.setEnd(n.startContainer,n.startOffset+1);const c=l.getBoundingClientRect(),s=document.createElement("div");s.className="box",s.style.position="absolute";const u=document.getElementById("questionContent");u.style.position="relative";const d=u.getBoundingClientRect(),m=c.left-d.left,h=o.top-d.top;s.style.left="".concat(m-5,"px"),s.style.top="".concat(h,"px");const E=o.right-c.left;E===o.width?s.style.width="".concat(E+15,"px"):s.style.width="".concat(E+5,"px"),s.style.height="".concat(o.height,"px"),s.style.border="2px solid ".concat(a),s.style.pointerEvents="none",document.getElementById("questionContent").appendChild(s);const f={type:"box",color:a,content:t};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,f]:[f]},r[g].edited=!0,r[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t})}}}function f(){if(!0===p.graded)return;const e=window.getSelection();if(""!==e.toString().trim()){if(!e.rangeCount)return;const t=e.toString();let n=e.getRangeAt(0),o=(n.startContainer,n.startOffset,n.endContainer,n.endOffset,document.createElement("mark"));o.style.backgroundColor=a;const l=o.style.backgroundColor;o.appendChild(n.extractContents()),n.insertNode(o);const c={type:"highlight",color:l,content:t};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,c]:[c]},r[g].edited=!0,r[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}function w(e){if(!0===p.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","word"),t.modify("extend","forward","word"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(a);const o=a;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const l={type:"clickWord",color:o,content:e};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,l]:[l]},r[g].edited=!0,r[g].render=document.getElementById("questionContent").innerHTML,console.log(document.getElementById("questionContent").innerHTML),t})}}function y(e){if(!0===p.graded)return;const t=window.getSelection(),n=document.caretRangeFromPoint(e.clientX,e.clientY);if(t.removeAllRanges(),t.addRange(n),t.modify("move","backward","lineboundary"),t.modify("extend","forward","lineboundary"),""!==t.toString().trim()){const e=t.toString(),n=document.createElement("span");n.style.border="2px solid ".concat(a);const o=a;n.appendChild(document.createTextNode(t.toString())),t.getRangeAt(0).deleteContents(),t.getRangeAt(0).insertNode(n);const l={type:"clickLine",color:o,content:e};i(e=>{const t=[...e];return t[g]={...p,changes:p.changes?[...p.changes,l]:[l]},r[g].render=document.getElementById("questionContent").innerHTML,r[g].edited=!0,t})}}return l.a.createElement("div",{className:"game-container"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",{className:"question-title"},p.title),p.edited?l.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===p.style?f:"box"===p.style?E:"clickword"===p.style?w:y,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:p.render}}):l.a.createElement("p",{id:"questionContent",onMouseUp:"highlight"===p.style?f:"box"===p.style?E:"clickword"===p.style?w:y,style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},dangerouslySetInnerHTML:{__html:p.content}})),l.a.createElement("p",null,"Score: ",p.score,"/",p.answers.length),l.a.createElement("div",{className:"button-container",style:{alignItems:"left"}}),l.a.createElement("div",{className:"interaction-controls"},l.a.createElement("div",{style:{marginTop:"auto"}},l.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=r[g],t=(e.answers||[]).map(e=>e.replace(/[\s.,!?]/g,""));console.log(t);const n=e.changes;console.log(n);let o=0;n.forEach(e=>{console.log(e.content.replace(/[\s.,!?]/g,"")),t.includes(e.content.replace(/[\s.,!?]/g,""))?o+=1:o-=.5}),e.score=o,e.graded=!0,console.log(o),e.studentAnswer=document.getElementById("questionContent").innerHTML,i(e=>[...e])},disabled:p.graded,hidden:!p.edited||p.graded},"Check Answer"),l.a.createElement("button",{className:"inreractive-button",onClick:function(){const e=r[g],t=(e.studentAnswer,document.getElementById("questionContent"));!0===e.showingSolution?function(e,t){t.innerHTML=e.studentAnswer,e.showingSolution=!1}(e,t):function(e,t){t.innerHTML=e.solution,e.showingSolution=!0}(e,t)},hidden:!p.graded},"Question/Solution")),l.a.createElement("div",{style:{marginTop:"auto"}},l.a.createElement("button",{onClick:function(){document.getElementById("questionContent").innerHTML=r[g].content,r[g].render="",r[g].changes=[],r[g].edited=!1},hidden:p.graded},"Reset All")),l.a.createElement("div",{style:{marginTop:"auto"}},l.a.createElement("button",{onClick:function(){g>0&&h(e=>e-1)},disabled:0===g},"Previous Question"),l.a.createElement("button",{onClick:function(){console.log("Hello world!"),g!==r.length-1&&h(e=>e+1)},disabled:g===r.length-1},"Next Question")),l.a.createElement("label",{className:"color-selection"},["#CE97FB","#F6A5EB","#FAA99D","#FDDF7E","#9BFBE1","#67EBFA"].map((e,t)=>l.a.createElement("label",{key:t},l.a.createElement("input",{type:"radio",value:e,checked:a===e,onChange:e=>c(e.target.value)}),l.a.createElement("span",{style:{backgroundColor:e,display:"inline-block",width:"20px",height:"20px"},className:a===e?"selected":""})))),r.every(e=>e.changes&&e.changes.length>=1)&&l.a.createElement("button",{onClick:function(){if(t("/results",{state:{questions:r}}),"/results"===e.pathname)return l.a.createElement(u,{questions:e.state.questions})},className:"submit-button"},"Submit"))))}function m(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Error 505: No Page Found"))}function g(){var e;const[t,n]=Object(o.useState)(localStorage.getItem("title")||""),[a,c]=Object(o.useState)(localStorage.getItem("content")||""),[r,i]=Object(o.useState)(localStorage.getItem("solution")||""),[u,d]=Object(o.useState)(JSON.parse(localStorage.getItem("questions"))||[]),[m,g]=Object(o.useState)((null===(e=localStorage.getItem("answers"))||void 0===e?void 0:e.split(","))||[""]),[h,p]=Object(o.useState)(""),[E,f]=Object(o.useState)({style:"",title:"",content:"",answers:[],solution:"",score:"",graded:!1,showingSolution:!1,changes:[],render:"",studentAnswer:"",edited:!1,points:""}),[w,y]=Object(o.useState)(null),[S,b]=Object(o.useState)(null),[C,v]=Object(o.useState)("questions.txt"),k=e=>{const t=u.map(e=>{const{style:t,title:n,content:o,answers:l,solution:a}=e;return{style:t,title:n,content:o,answers:l,solution:a}}),n=JSON.stringify(t),o=new Blob([n],{type:"application/json"}),l=URL.createObjectURL(o),a=document.createElement("a");a.href=l,a.download=e,a.click(),URL.revokeObjectURL(l),a.remove()};function O(e){let t=e.target.value;"answers"===e.target.name&&(t=t.split(",")),f({...E,[e.target.name]:t})}Object(o.useEffect)(()=>{localStorage.setItem("questions",JSON.stringify(u))},[u]);const I=Object(s.o)();return Object(o.useEffect)(()=>{localStorage.setItem("title",t),localStorage.setItem("content",a),localStorage.setItem("answers",m),localStorage.setItem("solution",r)},[t,a,m]),l.a.createElement("div",{style:{paddingLeft:"20px"}},l.a.createElement("h1",null,"Questions"),u.map((e,t)=>l.a.createElement("div",{key:t},l.a.createElement("h2",{onClick:()=>(e=>{b(S===e?null:e)})(t)},e.title),S===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap"}},e.content),l.a.createElement("p",null,"The answers are: ",e.answers.join(", ")),l.a.createElement("p",null,"The style is: ",e.style),l.a.createElement("p",null,"The solution is: ",e.solution),l.a.createElement("button",{onClick:()=>(function(e){d(u.filter((t,n)=>n!==e))})(t)},"Delete Question"),l.a.createElement("button",{onClick:()=>(function(e){f(u[e]),d(u.filter((t,n)=>n!==e)),y(e)})(t)},"Edit Question")))),l.a.createElement("button",{onClick:function(e){e.preventDefault(),0!==u.length?I("/student",{state:{title:t,content:a,answers:m,solution:r}}):alert("Please create at least one question before submitting.")}},"Preview"),l.a.createElement("div",null,l.a.createElement("select",{name:"style",value:E.style,onChange:O},l.a.createElement("option",{value:""},"Select style"),l.a.createElement("option",{value:"box"},"Box"),l.a.createElement("option",{value:"highlight"},"Highlight"),l.a.createElement("option",{value:"clickword"},"Click Word"),l.a.createElement("option",{value:"clickline"},"Click Line")),l.a.createElement("input",{name:"title",value:E.title,onChange:O,placeholder:"Title"}),l.a.createElement("textarea",{name:"content",value:E.content,onChange:O,style:{whiteSpace:"pre-wrap"},placeholder:"Content"}),E.answers.map((e,t)=>l.a.createElement("div",{key:t,style:{display:"flex",alignItems:"center"}},l.a.createElement("textarea",{style:{whiteSpace:"pre-wrap"},key:t,name:"answers",value:e,onChange:e=>((e,t)=>{const n=[...E.answers];n[t]=e.target.value,f({...E,answers:n})})(e,t),placeholder:"New Answer"}),!E.content.includes(e)&&l.a.createElement("span",{style:{color:"red"},title:"This answer is not contained in the question content."},"\u2757"))),l.a.createElement("button",{onClick:()=>{f({...E,answers:[...E.answers,""]})}},"Add another answer"),l.a.createElement("textarea",{name:"solution",value:E.solution,onChange:O,style:{whiteSpace:"pre-wrap"},placeholder:"Solution"}),l.a.createElement("button",{onClick:function(e){const t=E.answers.filter(e=>""!==e.trim());if(!E.style||!E.title||!E.content||0===t.length||!E.solution)return void alert("Please fill in all the fields before adding a question.");let n=[...u];null!==w?(n.splice(w,0,{...E,answers:t}),d(n),f({style:"",title:"",content:"",answers:[],solution:""}),y(null)):d([...u,{...E,answers:t}]),g([]),f({style:"",title:"",content:"",answers:[],solution:""})}},null!==w?"Update Question":"Add Question"),l.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete all questions?")&&d([])}},"Delete All Questions")),l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=new FileReader;n.onload=(e=>{const t=JSON.parse(e.target.result),n=[...JSON.parse(localStorage.getItem("questions"))||[],...t],o=n.filter(e=>!e.style||!e.title||!e.content||0===e.answers.length||!e.solution);if(console.log(o.length),o.length>0)return console.warn("Warning: Some questions in the imported file are missing fields."),void alert("Please make sure all the questions in your file have all fields filled in.");d(n)}),n.readAsText(t)}})),l.a.createElement("div",null,l.a.createElement("button",{onClick:()=>{k(C)}},"Save"),l.a.createElement("button",{onClick:()=>{const e=prompt("Enter new filename:");e&&(v(e),k(e))}},"Save As")))}function h(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to my app!"),l.a.createElement("div",null,l.a.createElement("h2",null,"Click on one of the links below to go to the page you want to go to"),l.a.createElement("a",{href:"http://localhost:3000/student"},"Student"),l.a.createElement("br",null),l.a.createElement("a",{href:"http://localhost:3000/teacher"},"Teacher"),l.a.createElement("br",null),l.a.createElement("a",{href:"http://localhost:3000/home"},"Home"),l.a.createElement("br",null),l.a.createElement("a",{href:"http://localhost:3000/results"},"Results")))}function p(){const e=JSON.parse(localStorage.getItem("questions"))||[];return l.a.createElement(r.a,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{index:!0,element:l.a.createElement(h,null)}),l.a.createElement(s.a,{path:"home",element:l.a.createElement(i,null)}),l.a.createElement(s.a,{path:"student",element:l.a.createElement(d,null)}),l.a.createElement(s.a,{path:"teacher",element:l.a.createElement(g,null)}),l.a.createElement(s.a,{path:"results",element:l.a.createElement(u,{questions:e})}),l.a.createElement(s.a,{path:"*",element:l.a.createElement(m,null)})))}c.a.createRoot(document.getElementById("root")).render(l.a.createElement(p,null));var E=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then(t=>{let{getCLS:n,getFID:o,getFCP:l,getLCP:a,getTTFB:c}=t;n(e),o(e),l(e),a(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null))),E()},7:function(e,t,n){},8:function(e,t,n){e.exports=n(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.f03e1ee1.chunk.js.map